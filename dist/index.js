!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n(require("lodash"),require("es6-promise"),require("axios")):"function"==typeof define&&define.amd?define(["lodash","es6-promise","axios"],n):"object"==typeof exports?exports["edc-client-js"]=n(require("lodash"),require("es6-promise"),require("axios")):t["edc-client-js"]=n(t.lodash,t["es6-promise"],t.axios)}("undefined"!=typeof self?self:this,function(t,n,e){return function(t){var n={};function e(r){if(n[r])return n[r].exports;var u=n[r]={i:r,l:!1,exports:{}};return t[r].call(u.exports,u,u.exports,e),u.l=!0,u.exports}return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="/",e(e.s=6)}([function(n,e){n.exports=t},function(t,n,e){"use strict";e.d(n,"a",function(){return f});var r=e(0),u=(e.n(r),e(2)),i=(e.n(u),e(7)),o=e(4),c=e(5),a=e(11),s=e(12),f=function(){function t(t,n,e,r,u){this.languageService=new s.a,this.urlUtil=new a.a(t,n,u),this.init(e,r)}return t.prototype.init=function(t,n){this.contextReady=this.initContext(t),n||(this.globalTocReady=this.initMultiToc()),this.initLanguages()},t.prototype.initContext=function(t){var n=this;return this.getContext(t).then(function(t){return n.context=t}).catch(function(t){console.warn("Edc-client-js : could not get context from plugin ["+n.currentPluginId+"]: "+t)})},t.prototype.initMultiToc=function(){var t=this;return i.a(this.urlUtil.getBaseUrl()).then(function(n){return t.globalToc=n})},t.prototype.initLanguages=function(){var t=this;this.getInfo(this.currentPluginId).then(function(n){t.languageService=new s.a(n.languageId)})},t.prototype.getToc=function(t){var n=this;return this.globalTocReady.then(function(e){var u=t||n.currentPluginId;if(u)return Object(r.get)(i.b(e.exports,u),"toc")})},t.prototype.getInfo=function(t){return this.getHelpContent(t,o.a.TYPE_INFO_SUFFIX)},t.prototype.getContext=function(t){return this.getHelpContent(t,o.a.TYPE_CONTEXT_SUFFIX)},t.prototype.getHelpContent=function(t,n){var e=this;return this.isPluginIdNew(t)?this.initPluginId(t).then(function(t){return i.e(e.urlUtil.getBaseUrl()+"/"+t,n)}):i.e(this.urlUtil.getBaseUrl()+"/"+this.currentPluginId,n)},t.prototype.getHelper=function(t,n,e,r){var o,c=this;void 0===r&&(r="en");var a=this.contextReady;return a&&!this.isPluginIdNew(e)||(a=this.initContext(e)),a.then(function(){if(o=c.getKey(t,n,r))return u.Promise.all([i.c(c.urlUtil.getBaseUrl(),o)].concat(o.articles.map(function(t){return i.c(c.urlUtil.getBaseUrl(),t)})))}).then(function(){return o})},t.prototype.getDocumentation=function(t){var n=this;return this.globalTocReady.then(function(){var e=i.d(n.globalToc,t);if(e)return i.c(n.urlUtil.getBaseUrl(),e).then(function(e){var r=i.f(n.globalToc,t),u=n.isPluginIdNew(r);return n.setCurrentPluginId(r),e.exportId=n.currentPluginId,new c.a(e,u)});console.warn("Edc-client-js : Documentation ["+t+"] not found in table of content")})},t.prototype.getContextWebHelpUrl=function(t,n,e,r,u){var i=u||this.currentPluginId;return this.urlUtil.getContextUrl(i,t,n,e,r)},t.prototype.getDocumentationWebHelpUrl=function(t){return this.urlUtil.getDocumentationUrl(t)},t.prototype.getHomeWebHelpUrl=function(){return this.urlUtil.getHomeUrl()},t.prototype.getErrorWebHelpUrl=function(){return this.urlUtil.getErrorUrl()},t.prototype.getI18nUrl=function(){return this.urlUtil.getI18nUrl()},t.prototype.getInformationMapFromDocId=function(t){var n=this;return this.globalTocReady.then(function(){var e=n.globalToc.index[t],u=Object(r.join)(Object(r.split)(e,".",3),".");return Object(r.get)(n.globalToc,u)})},t.prototype.getKey=function(t,n,e){return Object(r.get)(this.context,"['"+t+"']['"+n+"']['"+e+"']")},t.prototype.setCurrentPluginId=function(t){this.currentPluginId=t},t.prototype.initPluginId=function(t){var n=this;return i.g(this.urlUtil.getBaseUrl()).then(function(e){if(Object(r.isEmpty)(e))throw new Error("Could not init plugin : no available plugins");if(!Object(r.isEmpty)(t)&&!Object(r.some)(e,function(n){return n===t}))throw new Error('Could not init plugin : No plugin was found with id "'+t+'"');return n.currentPluginId=t||Object(r.first)(e),n.currentPluginId})},t.prototype.isPluginIdNew=function(t){return Object(r.isEmpty)(this.currentPluginId)||t&&this.currentPluginId!==t},t.prototype.getDefaultLanguage=function(){return this.languageService.getDefaultLanguage()},t.prototype.setCurrentLanguage=function(t){this.languageService.setCurrentLanguage(t)},t}()},function(t,e){t.exports=n},function(t,n,e){"use strict";e.d(n,"a",function(){return r});var r=function(){return function(){}}()},function(t,n,e){"use strict";var r;e.d(n,"a",function(){return r}),function(t){t.TYPE_MULTI_TOC_SUFFIX="/multi-doc.json",t.TYPE_CONTEXT_SUFFIX="/context.json",t.TYPE_INFO_SUFFIX="/info.json",t.TYPE_TOC_SUFFIX="/toc.json",t.TYPE_EMPTY_SUFFIX=""}(r||(r={}))},function(t,n,e){"use strict";e.d(n,"a",function(){return r});var r=function(){return function(t,n){this.doc=t,this.hasExportChanged=n}}()},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e(1);e.d(n,"EdcClient",function(){return r.a});var u=e(13);e.d(n,"Article",function(){return u.a});var i=e(14);e.d(n,"Documentation",function(){return i.a});var o=e(15);e.d(n,"Info",function(){return o.a});var c=e(16);e.d(n,"Link",function(){return c.a});var a=e(17);e.d(n,"ArticleType",function(){return a.a});var s=e(3);e.d(n,"Toc",function(){return s.a});var f=e(18);e.d(n,"InformationMap",function(){return f.a});var l=e(19);e.d(n,"Helper",function(){return l.a});var g=e(5);e.d(n,"DocumentationTransfer",function(){return g.a}),window.EdcClient=r.a},function(t,n,e){"use strict";n.a=function(t){var n=new a.a;return l(t,f.a.TYPE_MULTI_TOC_SUFFIX).then(function(t){return function(t){if(s.a.checkMultiDocContent(t))return Object(r.map)(t,function(t){return function(t){return Object(r.assign)(t,{toc:new o.a})}(t)});return[]}(t)}).then(function(e){return function(t,n,e){if(Object(r.isEmpty)(n))return c.Promise.reject("Error in reading multi-doc.json file");return c.Promise.all(Object(r.map)(n,function(n){return function(t,n,e){var u=Object(r.get)(n,"pluginId");if(!u)return null;var i=t+"/"+u;return l(i,f.a.TYPE_TOC_SUFFIX).then(function(t){return function(t,n,e,u){var i=Object(r.get)(n,"toc");if(!i)return null;return function(t,n,e){return c.Promise.all(Object(r.map)(n,function(n,u){return l(t+"/"+n.file,f.a.TYPE_EMPTY_SUFFIX).then(function(t){return function(t,n,e,u){if(!t||!n)return null;var i=Object(r.size)(Object(r.get)(u,"exports"));(t=Object(r.assign)(t,n)).topics=[t.en];var o="exports["+i+"].toc.toc["+e+"]";u.index=Object(r.assign)(u.index,s.a.indexTree([t],o,!0))}(n,t,u,e)})}))}(t,i,u).then(function(){return function(t,n,e){t&&(t.toc=n,e.exports.push(t));return t}(e,n,u)})}(i,t,n,e)},function(t){return console.warn("Edc-client-js : could not read toc.json file from plugin ["+u+"] "+t),null})}(t,n,e)}))}(t,e,n)}).then(function(){return n}).catch(function(n){return console.warn("Edc-client-js : Could not create multiToc from baseUrl ["+t+"] "+n),null})},n.g=function(t){return l(t,f.a.TYPE_MULTI_TOC_SUFFIX).then(function(t){return Object(r.map)(t,function(t){return t.pluginId})})},n.e=l,n.d=function(t,n){var e=Object(r.get)(t,"index["+n+"]");return Object(r.get)(t,e)},n.c=function(t,n){if(!t||!n)return null;return l(t+"/"+n.url,f.a.TYPE_EMPTY_SUFFIX).then(function(t){return n.content=t,n},function(e){return console.warn("Edc-client-js : could not read content from base url ["+t+"] and file ["+n.url+"] "+e),null})},n.b=function(t,n){return Object(r.find)(t,function(t){return t.pluginId===n})},n.f=function(t,n){var e=Object(r.get)(t,"index["+n+"]"),u=Object(r.first)(Object(r.split)(e,"."));return Object(r.get)(t,u+".pluginId")};var r=e(0),u=(e.n(r),e(8)),i=e.n(u),o=e(3),c=e(2),a=(e.n(c),e(9)),s=e(10),f=e(4);function l(t,n){return i.a.get(""+t+n).then(function(t){return 200===Object(r.get)(t,"status")?t.data:null},function(t){return c.Promise.reject(t)})}},function(t,n){t.exports=e},function(t,n,e){"use strict";e.d(n,"a",function(){return r});var r=function(){return function(t,n){void 0===t&&(t=[]),void 0===n&&(n={}),this.exports=t,this.index=n}}()},function(t,n,e){"use strict";e.d(n,"a",function(){return u});var r=e(0),u=(e.n(r),function(){function t(){}return t.indexTree=function(t,n,e){var u=this;return Object(r.reduce)(t,function(t,i,o){var c,a=i.id,s=i.topics;return e?c=n:(c=n+".topics["+o+"]",t[a]=c),Object(r.assign)(t,u.indexTree(s,c))},{})},t.checkMultiDocContent=function(n){return"string"!=typeof n&&t.isMultiTocContentValid(n)},t.isMultiTocContentValid=function(t){return!Object(r.chain)(t).map(function(t){return t.pluginId}).isEmpty().valueOf()},t}())},function(t,n,e){"use strict";e.d(n,"a",function(){return r});var r=function(){function t(t,n,e){this.baseURL=t,this.helpURL=n,this.i18nURL=e}return t.prototype.getBaseUrl=function(){return this.baseURL},t.prototype.getHomeUrl=function(){return this.helpURL+"/home"},t.prototype.getErrorUrl=function(){return this.helpURL+"/error"},t.prototype.getContextUrl=function(t,n,e,r,u){return this.helpURL+"/context/"+t+"/"+n+"/"+e+"/"+r+"/"+u},t.prototype.getDocumentationUrl=function(t){return this.helpURL+"/doc/"+t},t.prototype.getI18nUrl=function(){return this.i18nURL||this.baseURL+"/"+t.I18N_DEFAULT_SUFFIX},t.I18N_DEFAULT_SUFFIX="i18n",t}()},function(t,n,e){"use strict";e.d(n,"a",function(){return r});var r=function(){function t(n){this.defaultLanguage=n?n.substr(0,2):t.SYS_DEFAULT,this.currentLanguage=n}return t.prototype.getDefaultLanguage=function(){return this.defaultLanguage},t.prototype.setDefaultLanguage=function(n){this.defaultLanguage=n?n.substr(0,2):t.SYS_DEFAULT},t.prototype.getCurrentLanguage=function(){return this.currentLanguage},t.prototype.setCurrentLanguage=function(t){this.currentLanguage=t?t.substr(0,2):this.defaultLanguage},t.SYS_DEFAULT="en",t}()},function(t,n,e){"use strict";e.d(n,"a",function(){return r});var r=function(){return function(){}}()},function(t,n,e){"use strict";e.d(n,"a",function(){return r});var r=function(){return function(){}}()},function(t,n,e){"use strict";e.d(n,"a",function(){return r});var r=function(){return function(){}}()},function(t,n,e){"use strict";e.d(n,"a",function(){return r});var r=function(){return function(t,n,e,r){this.id=t,this.label=n,this.type=e,this.url=r}}()},function(t,n,e){"use strict";var r;e.d(n,"a",function(){return r}),function(t){t[t.BRICK="BRICK"]="BRICK",t[t.CHAPTER="CHAPTER"]="CHAPTER",t[t.DOCUMENT="DOCUMENT"]="DOCUMENT"}(r||(r={}))},function(t,n,e){"use strict";e.d(n,"a",function(){return r});var r=function(){return function(){}}()},function(t,n,e){"use strict";e.d(n,"a",function(){return r});var r=function(){return function(){}}()}])});