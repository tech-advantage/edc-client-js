!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n(require("lodash"),require("es6-promise"),require("axios")):"function"==typeof define&&define.amd?define(["lodash","es6-promise","axios"],n):"object"==typeof exports?exports["edc-client-js"]=n(require("lodash"),require("es6-promise"),require("axios")):t["edc-client-js"]=n(t.lodash,t["es6-promise"],t.axios)}("undefined"!=typeof self?self:this,function(t,n,e){return function(t){var n={};function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="/",e(e.s=6)}([function(n,e){n.exports=t},function(t,n,e){"use strict";e.d(n,"a",function(){return s});var r=e(0),i=(e.n(r),e(2)),o=(e.n(i),e(7)),u=e(4),c=e(5),f=e(11),s=function(){function t(t,n,e,r){this.baseURL=t,this.urlUtil=new f.a(n),this.init(e,r)}return t.prototype.init=function(t,n){this.contextReady=this.initContext(t),n||(this.globalTocReady=this.initMultiToc())},t.prototype.initContext=function(t){var n=this;return this.getContext(t).then(function(t){return n.context=t}).catch(function(t){console.warn("Edc-client-js : could not get context from plugin ["+n.currentPluginId+"]: "+t)})},t.prototype.initMultiToc=function(){var t=this;return o.a(this.baseURL).then(function(n){return t.globalToc=n})},t.prototype.getToc=function(t){var n=this;return this.globalTocReady.then(function(e){var i=t||n.currentPluginId;if(i)return Object(r.get)(o.b(e.exports,i),"toc")})},t.prototype.getInfo=function(t){return this.getHelpContent(t,u.a.TYPE_INFO_SUFFIX)},t.prototype.getContext=function(t){return this.getHelpContent(t,u.a.TYPE_CONTEXT_SUFFIX)},t.prototype.getHelpContent=function(t,n){var e=this;return this.isPluginIdNew(t)?this.initPluginId(t).then(function(t){return o.e(e.baseURL+"/"+t,n)}):o.e(this.baseURL+"/"+this.currentPluginId,n)},t.prototype.getHelper=function(t,n,e,r){var u,c=this;void 0===r&&(r="en");var f=this.contextReady;return f&&!this.isPluginIdNew(e)||(f=this.initContext(e)),f.then(function(){if(u=c.getKey(t,n,r))return i.Promise.all([o.c(c.baseURL,u)].concat(u.articles.map(function(t){return o.c(c.baseURL,t)})))}).then(function(){return u})},t.prototype.getDocumentation=function(t){var n=this;return this.globalTocReady.then(function(){var e=o.d(n.globalToc,t);if(e)return o.c(n.baseURL,e).then(function(e){var r=o.f(n.globalToc,t),i=n.isPluginIdNew(r);return n.setCurrentPluginId(r),e.exportId=n.currentPluginId,new c.a(e,i)});console.warn("Edc-client-js : Documentation ["+t+"] not found in table of content")})},t.prototype.getContextWebHelpUrl=function(t,n,e,r,i){var o=i||this.currentPluginId;return this.urlUtil.getContextUrl(o,t,n,e,r)},t.prototype.getDocumentationWebHelpUrl=function(t){return this.urlUtil.getDocumentationUrl(t)},t.prototype.getHomeWebHelpUrl=function(){return this.urlUtil.getHomeUrl()},t.prototype.getErrorWebHelpUrl=function(){return this.urlUtil.getErrorUrl()},t.prototype.getInformationMapFromDocId=function(t){var n=this;return this.globalTocReady.then(function(){var e=n.globalToc.index[t],i=Object(r.join)(Object(r.split)(e,".",3),".");return Object(r.get)(n.globalToc,i)})},t.prototype.getKey=function(t,n,e){return Object(r.get)(this.context,"['"+t+"']['"+n+"']['"+e+"']")},t.prototype.setCurrentPluginId=function(t){this.currentPluginId=t},t.prototype.initPluginId=function(t){var n=this;return o.g(this.baseURL).then(function(e){if(Object(r.isEmpty)(e))throw new Error("Could not init plugin : no available plugins");if(!Object(r.isEmpty)(t)&&!Object(r.some)(e,function(n){return n===t}))throw new Error('Could not init plugin : No plugin was found with id "'+t+'"');return n.currentPluginId=t||Object(r.first)(e),n.currentPluginId})},t.prototype.isPluginIdNew=function(t){return Object(r.isEmpty)(this.currentPluginId)||t&&this.currentPluginId!==t},t}()},function(t,e){t.exports=n},function(t,n,e){"use strict";e.d(n,"a",function(){return r});var r=function(){return function(){}}()},function(t,n,e){"use strict";var r;e.d(n,"a",function(){return r}),function(t){t.TYPE_MULTI_TOC_SUFFIX="/multi-doc.json",t.TYPE_CONTEXT_SUFFIX="/context.json",t.TYPE_INFO_SUFFIX="/info.json",t.TYPE_TOC_SUFFIX="/toc.json",t.TYPE_EMPTY_SUFFIX=""}(r||(r={}))},function(t,n,e){"use strict";e.d(n,"a",function(){return r});var r=function(){return function(t,n){this.doc=t,this.hasExportChanged=n}}()},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e(1);e.d(n,"EdcClient",function(){return r.a});var i=e(12);e.d(n,"Article",function(){return i.a});var o=e(13);e.d(n,"Documentation",function(){return o.a});var u=e(14);e.d(n,"Link",function(){return u.a});var c=e(15);e.d(n,"ArticleType",function(){return c.a});var f=e(3);e.d(n,"Toc",function(){return f.a});var s=e(16);e.d(n,"InformationMap",function(){return s.a});var a=e(17);e.d(n,"Helper",function(){return a.a});var l=e(5);e.d(n,"DocumentationTransfer",function(){return l.a}),window.EdcClient=r.a},function(t,n,e){"use strict";n.a=function(t){var n=new f.a;return l(t,a.a.TYPE_MULTI_TOC_SUFFIX).then(function(t){return function(t){if(s.a.checkMultiDocContent(t))return Object(r.map)(t,function(t){return function(t){return Object(r.assign)(t,{toc:new u.a})}(t)});return[]}(t)}).then(function(e){return function(t,n,e){if(Object(r.isEmpty)(n))return c.Promise.reject("Error in reading multi-doc.json file");return c.Promise.all(Object(r.map)(n,function(n){return function(t,n,e){var i=Object(r.get)(n,"pluginId");if(!i)return null;var o=t+"/"+i;return l(o,a.a.TYPE_TOC_SUFFIX).then(function(t){return function(t,n,e,i){var o=Object(r.get)(n,"toc");if(!o)return null;return function(t,n,e){return c.Promise.all(Object(r.map)(n,function(n,i){return l(t+"/"+n.file,a.a.TYPE_EMPTY_SUFFIX).then(function(t){return function(t,n,e,i){if(!t||!n)return null;var o=Object(r.size)(Object(r.get)(i,"exports"));(t=Object(r.assign)(t,n)).topics=[t.en];var u="exports["+o+"].toc.toc["+e+"]";i.index=Object(r.assign)(i.index,s.a.indexTree([t],u,!0))}(n,t,i,e)})}))}(t,o,i).then(function(){return function(t,n,e){t&&(t.toc=n,e.exports.push(t));return t}(e,n,i)})}(o,t,n,e)},function(t){return console.warn("Edc-client-js : could not read toc.json file from plugin ["+i+"] "+t),null})}(t,n,e)}))}(t,e,n)}).then(function(){return n}).catch(function(n){return console.warn("Edc-client-js : Could not create multiToc from baseUrl ["+t+"] "+n),null})},n.g=function(t){return l(t,a.a.TYPE_MULTI_TOC_SUFFIX).then(function(t){return Object(r.map)(t,function(t){return t.pluginId})})},n.e=l,n.d=function(t,n){var e=Object(r.get)(t,"index["+n+"]");return Object(r.get)(t,e)},n.c=function(t,n){if(!t||!n)return null;return l(t+"/"+n.url,a.a.TYPE_EMPTY_SUFFIX).then(function(t){return n.content=t,n},function(e){return console.warn("Edc-client-js : could not read content from base url ["+t+"] and file ["+n.url+"] "+e),null})},n.b=function(t,n){return Object(r.find)(t,function(t){return t.pluginId===n})},n.f=function(t,n){var e=Object(r.get)(t,"index["+n+"]"),i=Object(r.first)(Object(r.split)(e,"."));return Object(r.get)(t,i+".pluginId")};var r=e(0),i=(e.n(r),e(8)),o=e.n(i),u=e(3),c=e(2),f=(e.n(c),e(9)),s=e(10),a=e(4);function l(t,n){return o.a.get(""+t+n).then(function(t){return 200===Object(r.get)(t,"status")?t.data:null},function(t){return c.Promise.reject(t)})}},function(t,n){t.exports=e},function(t,n,e){"use strict";e.d(n,"a",function(){return r});var r=function(){return function(t,n){void 0===t&&(t=[]),void 0===n&&(n={}),this.exports=t,this.index=n}}()},function(t,n,e){"use strict";e.d(n,"a",function(){return i});var r=e(0),i=(e.n(r),function(){function t(){}return t.indexTree=function(t,n,e){var i=this;return Object(r.reduce)(t,function(t,o,u){var c,f=o.id,s=o.topics;return e?c=n:(c=n+".topics["+u+"]",t[f]=c),Object(r.assign)(t,i.indexTree(s,c))},{})},t.checkMultiDocContent=function(n){return"string"!=typeof n&&t.isMultiTocContentValid(n)},t.isMultiTocContentValid=function(t){return!Object(r.chain)(t).map(function(t){return t.pluginId}).isEmpty().valueOf()},t}())},function(t,n,e){"use strict";e.d(n,"a",function(){return r});var r=function(){function t(t){this.helpURL=t}return t.prototype.getHomeUrl=function(){return this.helpURL+"/home"},t.prototype.getErrorUrl=function(){return this.helpURL+"/error"},t.prototype.getContextUrl=function(t,n,e,r,i){return this.helpURL+"/context/"+t+"/"+n+"/"+e+"/"+r+"/"+i},t.prototype.getDocumentationUrl=function(t){return this.helpURL+"/doc/"+t},t}()},function(t,n,e){"use strict";e.d(n,"a",function(){return r});var r=function(){return function(){}}()},function(t,n,e){"use strict";e.d(n,"a",function(){return r});var r=function(){return function(){}}()},function(t,n,e){"use strict";e.d(n,"a",function(){return r});var r=function(){return function(t,n,e,r){this.id=t,this.label=n,this.type=e,this.url=r}}()},function(t,n,e){"use strict";var r;e.d(n,"a",function(){return r}),function(t){t[t.BRICK="BRICK"]="BRICK",t[t.CHAPTER="CHAPTER"]="CHAPTER",t[t.DOCUMENT="DOCUMENT"]="DOCUMENT"}(r||(r={}))},function(t,n,e){"use strict";e.d(n,"a",function(){return r});var r=function(){return function(){}}()},function(t,n,e){"use strict";e.d(n,"a",function(){return r});var r=function(){return function(){}}()}])});