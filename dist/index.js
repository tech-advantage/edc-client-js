!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n(require("lodash"),require("es6-promise"),require("axios")):"function"==typeof define&&define.amd?define(["lodash","es6-promise","axios"],n):"object"==typeof exports?exports["edc-client-js"]=n(require("lodash"),require("es6-promise"),require("axios")):t["edc-client-js"]=n(t.lodash,t["es6-promise"],t.axios)}("undefined"!=typeof self?self:this,function(t,n,e){return function(t){var n={};function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="/",e(e.s=7)}([function(n,e){n.exports=t},function(t,n,e){"use strict";e.d(n,"a",function(){return l});var r=e(0),i=(e.n(r),e(2)),u=(e.n(i),e(8)),o=e(5),c=e(6),a=e(11),s=e(12),f=e(4),l=function(){function t(t,n,e,r,i,u){this.languageService=new s.a,this.urlUtil=new a.a(t,n,i),this.contextOnly=r,this.init(e,r,u)}return t.prototype.init=function(t,n,e){this.infoReady=this.initInfo(t,e),this.contextReady=this.initContext(t),n||(this.globalTocReady=this.initMultiToc())},t.prototype.initInfo=function(t,n){var e=this;return this.getInfo(t).then(function(t){return e.initLanguages(t,n)})},t.prototype.initContext=function(t){var n=this;return this.infoReady.then(function(){return n.getContext(t)}).then(function(t){return n.context=t}).catch(function(t){return console.warn("Edc-client-js : could not get context from plugin ["+n.currentPluginId+"]: "+t),null})},t.prototype.initMultiToc=function(){var t=this;return this.infoReady.then(function(){return u.a(t.urlUtil.getBaseUrl(),t.languageService.getCurrentLanguage())}).then(function(n){return t.globalToc=n})},t.prototype.initLanguages=function(t,n){return this.languageService.setDefaultLanguage(t.defaultLanguage),this.languageService.setLanguages(t.languages),this.languageService.setCurrentLanguage(n),t},t.prototype.getTitle=function(t,n){var e=this;return this.infoReady.then(function(t){var r=e.languageService.isLanguagePresent(n)?n:e.languageService.getCurrentLanguage();return u.i(t,r,e.languageService.getDefaultLanguage())})},t.prototype.getToc=function(t){var n=this;return this.globalTocReady.then(function(e){var r=t||n.currentPluginId;if(r)return f.a.safeGet(u.b(e.exports,r),["toc"])})},t.prototype.getInfo=function(t){return this.getHelpContent(t,o.a.TYPE_INFO_SUFFIX)},t.prototype.getContext=function(t){return void 0===t&&(t=this.currentPluginId),this.getHelpContent(t,o.a.TYPE_CONTEXT_SUFFIX)},t.prototype.getHelpContent=function(t,n){var e=this;return this.isPluginIdNew(t)?this.initPluginId(t).then(function(t){return u.g(e.urlUtil.getBaseUrl()+"/"+t,n)}):u.g(this.urlUtil.getBaseUrl()+"/"+this.currentPluginId,n)},t.prototype.getHelper=function(t,n,e,r){var o,c=this;r=this.languageService.isLanguagePresent(r)?r:this.languageService.getCurrentLanguage();var a=this.contextReady;return a&&!this.isPluginIdNew(e)||(a=this.initContext(e)),a.then(function(){if(o=f.a.safeGet(c.context,[t,n,r]))return i.Promise.all([u.e(c.urlUtil.getBaseUrl(),o)].concat(o.articles.map(function(t){return u.e(c.urlUtil.getBaseUrl(),t)})))}).then(function(){return o})},t.prototype.getDocumentation=function(t){var n=this;return this.globalTocReady.then(function(){var e=u.f(n.globalToc,t);if(e)return u.e(n.urlUtil.getBaseUrl(),e).then(function(e){var r=u.d(n.globalToc,t),i=n.isPluginIdNew(r);return n.setCurrentPluginId(r),e.exportId=n.currentPluginId,new c.a(e,i)});console.warn("Edc-client-js : Documentation ["+t+"] not found in table of content")})},t.prototype.getContextWebHelpUrl=function(t,n,e,r,i){var u=i||this.currentPluginId,o=this.isLanguagePresent(e)?e:this.languageService.getCurrentLanguage();return this.urlUtil.getContextUrl(u,t,n,o,r)},t.prototype.getDocumentationWebHelpUrl=function(t){return this.urlUtil.getDocumentationUrl(t)},t.prototype.getHomeWebHelpUrl=function(){return this.urlUtil.getHomeUrl()},t.prototype.getErrorWebHelpUrl=function(){return this.urlUtil.getErrorUrl()},t.prototype.getPopoverI18nUrl=function(){return this.urlUtil.getPopoverI18nUrl()},t.prototype.getWebHelpI18nUrl=function(){return this.urlUtil.getWebHelpI18nUrl()},t.prototype.getInformationMapFromDocId=function(t){var n=this;return this.globalTocReady.then(function(){return u.c(n.globalToc,t)}).catch(function(){return i.Promise.resolve(null)})},t.prototype.setCurrentPluginId=function(t){this.currentPluginId=t},t.prototype.initPluginId=function(t){var n=this;return u.h(this.urlUtil.getBaseUrl()).then(function(e){if(Object(r.isEmpty)(e))throw new Error("Could not init plugin : no available plugins");if(!Object(r.isEmpty)(t)&&!Object(r.some)(e,function(n){return n===t}))throw new Error('Could not init plugin : No plugin was found with id "'+t+'"');return n.currentPluginId=t||Object(r.first)(e),n.currentPluginId})},t.prototype.isPluginIdNew=function(t){return Object(r.isEmpty)(this.currentPluginId)||t&&this.currentPluginId!==t},t.prototype.getDefaultLanguage=function(){return this.languageService.getDefaultLanguage()},t.prototype.isLanguagePresent=function(t){return this.languageService.isLanguagePresent(t)},t.prototype.changeCurrentLanguage=function(t){var n=this,e=this.languageService.getCurrentLanguage();if(t&&t!==e){this.infoReady=this.initInfo(this.currentPluginId,t),this.contextReady=this.initContext(this.currentPluginId);var r=this.contextReady;return this.contextOnly||(this.globalTocReady=this.initMultiToc(),r=this.globalTocReady),r.then(function(){return n.languageService.getCurrentLanguage()})}return i.Promise.resolve(e)},t}()},function(t,e){t.exports=n},function(t,n,e){"use strict";e.d(n,"a",function(){return r});var r=function(){return function(){}}()},function(t,n,e){"use strict";e.d(n,"a",function(){return i});var r=e(0),i=(e.n(r),function(){function t(){}return t.indexTree=function(n,e,i){return Object(r.reduce)(n,function(n,u,o){var c,a=u.id,s=u.topics;return i?c=e:(c=e+".topics["+o+"]",n[a]=c),Object(r.assign)(n,t.indexTree(s,c))},{})},t.checkMultiDocContent=function(n){return"string"!=typeof n&&t.isMultiTocContentValid(n)},t.isMultiTocContentValid=function(t){return!Object(r.chain)(t).map(function(t){return t.pluginId}).isEmpty().valueOf()},t.safeGet=function(t,n){if(!n||!n.length)return null;var e=t;return n.forEach(function(t){e=t&&e&&e[t]?e[t]:null}),e},t.findExportPathFromDocPath=function(t){return Object(r.first)(Object(r.split)(t,"."))+".pluginId"},t.findIMPathFromDocPath=function(t){return Object(r.join)(Object(r.split)(t,".",3),".")},t}())},function(t,n,e){"use strict";var r;e.d(n,"a",function(){return r}),function(t){t.TYPE_MULTI_TOC_SUFFIX="/multi-doc.json",t.TYPE_CONTEXT_SUFFIX="/context.json",t.TYPE_INFO_SUFFIX="/info.json",t.TYPE_TOC_SUFFIX="/toc.json",t.TYPE_EMPTY_SUFFIX=""}(r||(r={}))},function(t,n,e){"use strict";e.d(n,"a",function(){return r});var r=function(){return function(t,n){this.doc=t,this.hasExportChanged=n}}()},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e(1);e.d(n,"EdcClient",function(){return r.a});var i=e(14);e.d(n,"Article",function(){return i.a});var u=e(15);e.d(n,"Documentation",function(){return u.a});var o=e(16);e.d(n,"Info",function(){return o.a});var c=e(17);e.d(n,"Link",function(){return c.a});var a=e(18);e.d(n,"ArticleType",function(){return a.a});var s=e(3);e.d(n,"Toc",function(){return s.a});var f=e(19);e.d(n,"InformationMap",function(){return f.a});var l=e(21);e.d(n,"Helper",function(){return l.a});var g=e(6);e.d(n,"DocumentationTransfer",function(){return g.a}),window.EdcClient=r.a},function(t,n,e){"use strict";n.a=function(t,n){var e=new a.a;return l(t,f.a.TYPE_MULTI_TOC_SUFFIX).then(function(t){return function(t){if(s.a.checkMultiDocContent(t))return Object(r.map)(t,function(t){return function(t){return Object(r.assign)(t,{toc:new o.a})}(t)});return[]}(t)}).then(function(i){return function(t,n,e,i){if(Object(r.isEmpty)(n))return c.Promise.reject("Error in reading multi-doc.json file");return c.Promise.all(Object(r.map)(n,function(n){return function(t,n,e,i){var u=Object(r.get)(n,"pluginId");if(!u)return null;var o=t+"/"+u;return l(o,f.a.TYPE_TOC_SUFFIX).then(function(t){return function(t,n,e,i,u){var o=Object(r.get)(n,"toc");if(!o)return null;return function(t,n,e,i){return c.Promise.all(Object(r.map)(n,function(n,u){return l(t+"/"+n.file,f.a.TYPE_EMPTY_SUFFIX).then(function(t){return function(t,n,e,i,u){if(!t||!n)return null;var o=Object(r.size)(Object(r.get)(i,"exports")),c=Object(r.get)(n,"["+u+"].label");(t=Object(r.assign)(t,n,{label:c})).topics=[Object(r.get)(n,"["+u+"]")];var a="exports["+o+"].toc.toc["+e+"]";i.index=Object(r.assign)(i.index,s.a.indexTree([t],a,!0))}(n,t,u,e,i)})}))}(t,o,i,u).then(function(){return function(t,n,e){t&&(t.toc=n,e.exports.push(t));return t}(e,n,i)})}(o,t,n,e,i)},function(t){return console.warn("Edc-client-js : could not read toc.json file from plugin ["+u+"] "+t),null})}(t,n,e,i)}))}(t,i,e,n)}).then(function(){return e}).catch(function(n){return console.warn("Edc-client-js : Could not create multiToc from baseUrl ["+t+"] "+n),null})},n.h=function(t){return l(t,f.a.TYPE_MULTI_TOC_SUFFIX).then(function(t){return Object(r.map)(t,function(t){return t.pluginId})})},n.i=function(t,n,e){if(!t||!n&&!e)return"";var r;n&&t.titles&&t.titles[n]?r=t.titles[n].title:e&&t.titles&&t.titles[e]&&(r=t.titles[e].title);return r||t.name},n.g=l,n.f=function(t,n){var e=Object(r.get)(t,"index["+n+"]");return Object(r.get)(t,e)},n.e=function(t,n){if(!t||!n)return null;return l(t+"/"+n.url,f.a.TYPE_EMPTY_SUFFIX).then(function(t){return n.content=t,n},function(){return null}).catch(function(){return null})},n.b=function(t,n){return Object(r.find)(t,function(t){return t.pluginId===n})},n.d=function(t,n){var e=Object(r.get)(t,"index["+n+"]");return Object(r.get)(t,s.a.findExportPathFromDocPath(e))},n.c=function(t,n){var e;if(!Object(r.isNil)(n)&&t&&t.index&&t.exports){var i=t.index[n],u=s.a.findIMPathFromDocPath(i);e=Object(r.get)(t,u)}if(!e)throw Error("Could not find informationMap from documentation id : "+n);return e};var r=e(0),i=(e.n(r),e(9)),u=e.n(i),o=e(3),c=e(2),a=(e.n(c),e(10)),s=e(4),f=e(5);function l(t,n){return u.a.get(""+t+n).then(function(t){return 200===Object(r.get)(t,"status")?t.data:null},function(t){return c.Promise.reject(t)})}},function(t,n){t.exports=e},function(t,n,e){"use strict";e.d(n,"a",function(){return r});var r=function(){return function(t,n){void 0===t&&(t=[]),void 0===n&&(n={}),this.exports=t,this.index=n}}()},function(t,n,e){"use strict";e.d(n,"a",function(){return r});var r=function(){function t(t,n,e){this.baseURL=t,this.helpURL=n,this.i18nURL=e}return t.prototype.getBaseUrl=function(){return this.baseURL},t.prototype.getHomeUrl=function(){return this.helpURL+"/home"},t.prototype.getErrorUrl=function(){return this.helpURL+"/error"},t.prototype.getContextUrl=function(t,n,e,r,i){return this.helpURL+"/context/"+t+"/"+n+"/"+e+"/"+r+"/"+i},t.prototype.getDocumentationUrl=function(t){return this.helpURL+"/doc/"+t},t.prototype.getI18nBaseUrl=function(){return this.baseURL+"/"+t.I18N_ROOT_FOLDER},t.prototype.getWebHelpI18nUrl=function(){return this.i18nURL||this.getI18nBaseUrl()+"/"+t.I18N_WEB_HELP_FOLDER},t.prototype.getPopoverI18nUrl=function(){return this.i18nURL||this.getI18nBaseUrl()+"/"+t.I18N_POPOVER_FOLDER},t.I18N_ROOT_FOLDER="i18n",t.I18N_POPOVER_FOLDER="popover",t.I18N_WEB_HELP_FOLDER="web-help",t}()},function(t,n,e){"use strict";e.d(n,"a",function(){return i});var r=e(13),i=function(){function t(t,n){void 0===n&&(n=[]),this.setDefaultLanguage(t),this.setLanguages(n),this.setCurrentLanguage(t)}return t.prototype.getDefaultLanguage=function(){return this.defaultLanguage},t.prototype.setDefaultLanguage=function(n){this.defaultLanguage=r.a.some(function(t){return t===n})?n.substr(0,2):t.SYS_DEFAULT},t.prototype.getCurrentLanguage=function(){return this.currentLanguage},t.prototype.setCurrentLanguage=function(t){return this.currentLanguage=this.isLanguagePresent(t)?t.substr(0,2):this.defaultLanguage,this.currentLanguage},t.prototype.getLanguages=function(){return this.languages},t.prototype.setLanguages=function(t){void 0===t&&(t=[]),this.languages=t.filter(function(t){return r.a.some(function(n){return n===t})})},t.prototype.isLanguagePresent=function(t){return this.languages&&this.languages.some(function(n){return n===t})},t.SYS_DEFAULT="en",t}()},function(t,n,e){"use strict";e.d(n,"a",function(){return r});var r=["en","ar","bg","zh","hr","cs","da","nl","et","fi","fr","de","el","he","hu","is","ga","it","ja","ko","lv","lt","lb","mt","no","fa","pl","pt","ro","ru","sk","sl","es","sv","tr","vi"]},function(t,n,e){"use strict";e.d(n,"a",function(){return r});var r=function(){return function(){}}()},function(t,n,e){"use strict";e.d(n,"a",function(){return r});var r=function(){return function(){}}()},function(t,n,e){"use strict";e.d(n,"a",function(){return r});var r=function(){return function(){}}()},function(t,n,e){"use strict";e.d(n,"a",function(){return r});var r=function(){return function(t,n,e,r){this.id=t,this.label=n,this.type=e,this.url=r}}()},function(t,n,e){"use strict";var r;e.d(n,"a",function(){return r}),function(t){t[t.BRICK="BRICK"]="BRICK",t[t.CHAPTER="CHAPTER"]="CHAPTER",t[t.DOCUMENT="DOCUMENT"]="DOCUMENT"}(r||(r={}))},function(t,n,e){"use strict";e.d(n,"a",function(){return u});var r=e(20),i=this&&this.__extends||function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(n,e)};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),u=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return i(n,t),n}(r.a)},function(t,n,e){"use strict";e.d(n,"a",function(){return r});var r=function(){return function(){}}()},function(t,n,e){"use strict";e.d(n,"a",function(){return r});var r=function(){return function(){}}()}])});